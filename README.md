# Yandex.Disk Console Client

## üìù –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ö–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ C# –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–æ–º —Å –ø–æ–º–æ—â—å—é NuGet –ø–∞–∫–µ—Ç–∞ YandexDisk.Client. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–∏—Å–∫–∞, —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–∞–ø–∫–∏, –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏ —Å–∫–∞—á–∏–≤–∞—Ç—å —Ñ–∞–π–ª—ã –ø—Ä—è–º–æ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.

## üåü –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–µ
- üìÅ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–∞–ø–æ–∫
- üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ –¥–∏—Å–∫
- ‚¨áÔ∏è –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (–∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞)

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- .NET Framework 4.7.2 (–∫–æ–¥ —Ä–∞–±–æ—Ç—ã —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π YandexDisk.Client –±—É–¥–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω –¥–ª—è .NET Core)
- [YandexDisk.Client](https://github.com/raidenyn/yandexdisk.client) - –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è .NET –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–æ–º
- Dependency Injection
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –ü–æ–ª—É—á–∏—Ç–µ OAuth-—Ç–æ–∫–µ–Ω –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞:
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ [–Ø–Ω–¥–µ–∫—Å.OAuth](https://oauth.yandex.ru/) (–≤ Redirect URI –¥–ª—è –≤–µ–±-—Å–µ—Ä–≤–∏—Å–æ–≤ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ª—é–±–æ–π –∞–¥—Ä–µ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä http://localhost:12345/callback)
   - –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –¥–ª—è —Å–≤–æ–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞:
      - –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å https://oauth.yandex.ru/authorize?response_type=token&client_id=<–í–∞—à_clientId>
      - –ü–æ–ª—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç http://localhost:12345/callback#access_token=<–í–∞—à_OAuth_token>&token_type=bearer&expires_in=<–í—Ä–µ–º—è_–∂–∏–∑–Ω–∏_—Ç–æ–∫–µ–Ω–∞>
      - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ access_token

2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   - –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `appsettings.json` –≤ –ø–∞–ø–∫–µ —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π (/YandexDiskApp/appsettings.json):
     ```json
     {
       "YandexDisk": {
         "AccessToken": "–≤–∞—à_OAuth_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å"
       }
     }
     ```

## üöÄ –ó–∞–ø—É—Å–∫

```bash
dotnet run
```

## üìã –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
   ```
   > view /
   ```

2. –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏:
   ```
   > mkdir /TestFolder
   ```

3. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞:
   ```
   > upload path_to_file path_on_disk
   ```
   ```
   > upload C:\example\img1.png /TestFolder
   ```

4. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ (–ø–∞—Ä–∞–º–µ—Ç—Ä path_to_destination_on_computer –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω):
   ```
   > download path_to_file_on_disk path_to_destination_on_computer
   ```
   ```
   > download /TestFolder/test1.png C:\example\
   ```

5. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞:
   ```
   > download-link path_to_file_on_disk
   ```
   ```
   > download-link /TestFolder/test1.png
   ```

### –í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
1. –ú–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –ø–æ—Å–ª–µ —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
```
YandexDiskApp view /
YandexDiskApp mkdir /TestFolder
```
2. –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –∫–∞–∫ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ:
```
> view /
> mkdir /TestFolder
> exit
```

## üìå –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ —Å–ª–æ–∏
- –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ Microsoft DI
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API
